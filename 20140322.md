## web security

* 禁用FTP

* 开启防火墙

* in apache httpd.conf中加入根路径的几个访问权限控制，不然会暴露git信息和代码信息

```
<Directory "D:/Program Files/Apache Software Foundation/Apache2.2/htdocs/.git">
    Order Deny,Allow
    Deny from all
</Directory>

<Directory "D:/Program Files/Apache Software Foundation/Apache2.2/htdocs/SEUHome">
    Order Deny,Allow
    Deny from all
</Directory>

<Directory "D:/Program Files/Apache Software Foundation/Apache2.2/htdocs/Thinkphp">
    Order Deny,Allow
    Deny from all
</Directory>
```

* 在/Uploads路径下被人传了shell

在```Uploads/```和```Public/```两个路径下加了一个重定向脚本

### index.php

```php
<?php
echo "<script>window.location.href = '/';</script>"
?>
```

* mysql权限设置(_新建低权限用户_)

```
mysql -uroot -p
use mysql
create user 'username'@'hostname' identified by 'password'
flush privileges
grant all privileges on database.* to username@hostname identified by 'password'
flush privileges
```

* [detail](http://my.oschina.net/u/165872/blog/78863)

* windows文件write权限设置

[detail](http://jingyan.baidu.com/article/3d69c551a8ccd9f0cf02d728.html)

<del>不清楚要不要取消```列出文件夹```的权限</del>

* 新建用户运行apache

[detail](http://chumou.blog.51cto.com/2506511/528868)

### 运行apache用户的权限设置

* 设置htdocs没有写权限(_由于要用新用户登录apache并运行需要有apache安装目录的写权限，所以这里htdocs要在高级中删除继承父级的权限设置_)

* 在htdocs中将Uploads/和SEUHome/Runtime/两个路径取消在```安全=>高级```中取消继承父级的权限设置，并重新添加Administrator和System的所有权限，添加新的用户的读取列目录以及写权限


